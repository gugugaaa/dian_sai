# 基于单目视觉的目标物测量装置 (C题)【本科组】

## 一、任务

设计制作基于单目视觉的目标物测量装置，用于测量并显示基准线到目标物的距离 D（见说明）、目标物平面（简称物面）上几何图形的边长或直径 x。

测量系统组成如图1所示。测量电路和单目摄像头组成测量装置，如图2所示，由外部直流稳压电源供电。

### 图1：基于单目视觉的目标物测量系统组成示意图

该图包含(a)正视示意图和(b)俯视示意图。

**(a) 正视示意图：**
- 一个"目标物"放置在"基准面"上
- 一个"单目摄像头"对着目标物
- 摄像头和目标物之间的水平距离标注为 D，范围是 100cm ~ 200cm
- 摄像头连接到一个"测量电路"

**(b) 俯视示意图：**
- 目标物和摄像头位于一条"轴线"上，两者距离为 D (100cm ~ 200cm)
- 摄像头旁边有一条"基准线"，长度为 50cm
- 整条轴线长度为 210cm

### 图2：测量装置组成框图

- 外部"直流稳压电源"（Us = +5V）为整个"测量装置"供电
- 装置内部，"单目摄像头"和"按键"作为输入设备连接到"微处理器"
- "微处理器"连接到"测量电路"和"6-8位液晶显示屏"
- 整个系统形成一个闭环的测量和显示单元

## 二、要求

### 1. 基本要求

1. 从三个基本目标物（见说明）中随机取出一个，摆在轴线上的某一指定位置。一键启动装置，测量并显示 D 和 x。

2. 从余下的两个基本目标物中再随机取出一个，摆在轴线上的某一指定位置。一键启动装置，测量并显示 D 和 x。

3. 将最后一个基本目标物摆在轴线上的某一指定位置。一键启动装置，测量并显示 D 和 x。

4. 实时监测直流稳压电源对测量装置整机的供电电流 Is。在测量装置工作期间，测量并显示 Is，要求测量的相对误差绝对值不大于 5%。

### 2. 发挥部分

1. 从四个发挥目标物（见说明）中随机取出一个，摆在轴线上的某一指定位置。一键启动装置，测量并显示 D、物面上最小面积正方形的 x。

2. 从余下的发挥目标物中再随机取出一个，摆在轴线上的某一指定位置。一键启动装置，测量并显示 D、物面上最小面积正方形的 x。

3. 取出物面上正方形带数字编号的发挥目标物，摆在轴线上的某一指定位置。参赛队员向测量装置输入指定正方形编号。一键启动装置，测量并显示 D、指定编号正方形的 x。

4. 取出最后一个发挥目标物，摆在轴线上的某一指定位置。水平转动目标物，使物面与轴线间成 30°~60° 的夹角 θ。一键启动装置，测量并显示物面上正方形的 x。

5. 优化测量装置，降低整机功耗。要求测试全程实时监测并显示测量装置的功耗 P 和最大功耗 Pmax。

6. 其他。

## 三、说明

### (1) 限制规定

- 本题只能使用一个摄像头（类型和性能不限）
- 不得利用视觉测距类商品进行改装
- 不得利用超声、激光、毫米波测距雷达等非视觉方式测距
- 测量装置不得使用 PC 机（含笔记本电脑、平板电脑等）
- 自制图2中的供电电流测量电路时，不得使用商品模块
- **违者不予测试**

### (2) 测试场地

测试场地为基准面上相互垂直的两条黑色线（线宽约 5mm）：
- 长 210cm 的轴线（线上无刻度）
- 长 50cm 的基准线

如图1（b）所示。

### (3) 目标物

赛区测试一律使用赛区制备的目标物，包括：
- 基本要求测试用的目标物（简称基本目标物）
- 发挥部分测试用的目标物（简称发挥目标物）

**目标物规格：**
- 所有目标物面均为竖立的白色 A4 纸
- 四边印有线宽 2cm 的黑色边框线
- A4 纸底边中点处印有标记点
- 所有目标物面上印制的是黑色实心几何图形

**基本目标物：**
- 三个基本目标物面（A4纸面）中心位置分别印有：圆形、等边三角形、正方形
- 直径或边长范围：10cm～16cm

**发挥目标物：**
四个发挥目标物面印制的图形包括：
- 单个正方形
- 若干面积不等、彼此分离或局部重叠的正方形组合图形
- 若干印有1位白色阿拉伯数字编号、面积不等的正方形组合图形
- 各正方形边长范围：6cm～12cm

**注意：** 参赛队在校参赛期间，可参考以上描述自制用于系统调试的目标物。

### (4) 目标物与摄像头摆放

- 目标物面标记点在基准面上的垂直投影点始终落在轴线上
- 除发挥部分第（4）项外，目标物面在基准面上的投影线均垂直于轴线
- 摄像头始终固定在图1（b）中的 O 点处

### (5) 目标物距离 D

定义为目标物面标记点在基准面上的垂直投影点与基准线之间的距离，测量范围 100cm～200cm。

### (6) 测试规定

- 测试期间测量装置不得联网
- 不得改变摄像头的位置和高度
- 除发挥部分第（3）项测试外，启动测量时，只允许一键启动，不得再对装置进行其他操作
- 要求从一键启动装置到显示出测量结果的用时不超过 5s，否则相应测试项不得分

### (7) D 和 x 的测量误差要求

| 测试项目 | 目标物距离 D | 物面图形边长或直径 x |
|----------|-------------|-------------------|
| **基本要求** | 误差绝对值 ≤ 5cm | 误差绝对值 ≤ 1cm |
| **发挥部分** | 误差绝对值 ≤ 2cm | 误差绝对值 ≤ 0.5cm |

### (8) 测量装置功耗

定义为 P = Us × Is，其中：
- Us 为直流稳压电源输出电压 5V
- Is 为直流稳压电源输出电流

## 四、评分标准

### 设计报告（20分）

| 项目 | 主要内容 | 满分 |
|------|----------|------|
| 方案论证 | 比较与选择，方案描述 | 4 |
| 理论分析与计算 | 单目视觉测量原理，分析与计算 | 6 |
| 电路与程序设计 | 电路设计分析，低功耗措施，程序设计 | 4 |
| 测试方案与测试结果 | 测试方案，测试结果完整性，测试结果分析 | 4 |
| 设计报告结构及规范性 | 摘要，正文结构，图表规范性 | 2 |
| **合计** | | **20** |

### 基本要求（50分）

| 项目 | 满分 |
|------|------|
| 完成 (1) | 12 |
| 完成 (2) | 12 |
| 完成 (3) | 12 |
| 完成 (4) | 14 |
| **合计** | **50** |

### 发挥部分（50分）

| 项目 | 满分 |
|------|------|
| 完成 (1) | 8 |
| 完成 (2) | 8 |
| 完成 (3) | 9 |
| 完成 (4) | 10 |
| 完成 (5) | 10 |
| 完成 (6) | 5 |
| **合计** | **50** |

### 总分：120分