2025电赛基于单目视觉的目标物测量装置（C题）- 基线版本

场景描述：
- A4纸（四边印有2cm黑边）上印有目标物（黑色实心圆形、等边三角形、正方形，10-16cm）
- 一个"1080p_3.6mm usb 摄像头"对着A4纸中心，连接树莓派5b
- 摄像头和目标物之间的水平距离标注为 D，范围是 100cm ~ 200cm

要求：
按下按钮测量：
|D|<5cm, |x|<1cm

我的思路：
def main():
    K, dist = load_calibration("calib.yaml")           # TODO 1 收集镜头参数
    cap, button = init_hardware()                      # TODO 2 配置摄像头
    while True:
        if button_pressed(button):                     # TODO 3 按钮（保留函数，暂时用tkinter窗口替代）
            t0 = time.time()
            frame = capture_frames(cap)                
            edges = preprocess(frame, K, dist)         # TODO 4 采集和降噪
            ok, h_pix = detect_border(edges)           # TODO 5 凸包和角点，找到A4纸黑边框
            if not ok: log_error(...); continue
            D = 29.7 * K[1,1] / h_pix                  # TODO 6 求距离D
            shape, x_pix = detect_shape(frame)         # TODO 7 找形状shape和边长的像素x_pix
            if not shape: log_error(...); continue
            x = x_pix * D / K[1,1]                     # TODO 8 求边长x
            show_result(D, x)                                      
            save_log(D, x, t0)                         # TODO 9 展示（暂时用tkinter窗口替代）和调试